---
title: "b-3. Functional"
date: 2023-06-07
---
## Ⅰ. 函数式接口
只包含一个抽象方法的接口，称为函数式接口。

#### Functional 的意义
Java是纯面向对象的语言，失去了面向过程（面向函数）的灵活性，比如PHP语言可以直接定义函数，使用函数，以函数为单位提供一个简单的独立的功能。

而Java不能直接定义函数，所有函数必须以方法的形式属于某个类，这就不够灵活了，而函数式接口就补气了这个短板，以函数式接口的形式模拟了面向函数的特点。

函数式接口本质上是穷举了所有函数的格式，不同的函数，格式上只有参数和返回值的区别，即多少个参数，有无返回值，返回值是怎么获取的。

因此函数式接口就是一个载体，用来执行一个函数，Java为不同格式的函数提供了不同类型的内置接口，根据需求选择符合要求（参数和返回值）的接口，实现他的方法，写出需要的功能，就OK了。

#### 1. Functional 介绍
##### 函数式接口的特点
由接口名、形参列表、函数名组成。
##### 如何使用函数式接口
我们需要一个功能，为一个功能创建一个类太浪费了。

我们可以利用函数式接口，寻找或定义一个参数符合的接口。然后利用Lambda的方式调用即可，函数体直接在使用的时候定义。
##### 函数式接口要定义多少
函数式接口本质上只是一个载体，用来执行函数体的载体，本身毫无意义。

但是由于方法是有参数限制的（数量和类型），因此我们需要定义多个函数式接口，这些接口的区别就是参数不一样，可以很简单的穷举出需要多少个函数式接口。
##### 内置函数式接口
在java.util.function包下定义了Java 8 的丰富的函数式接口。

包含4中常用的函数式接口，和一些不常用的。也就是Java替我们穷举好了，我们直接使用即可。

#### 2. 注解
@FunctionalInterface

该注解表示下面要定义的接口为：函数式接口；这样做可以检查它是否是一个函数式接口。同时 javadoc 也会包含一条声明，说明这个接口是一个函数式接口。

#### 3. 自定义函数式接口
```java
@FunctionalInterface
public interface MyInterface {
    void method1();
}
```

#### 4. Lambda与创建Functional对象
可以通过 Lambda 表达式来创建该接口的对象。（若 Lambda 表达式抛出一个受检异常(即：非运行时异常)，那么该异常需要在目标接口的抽象方法上进行声明）。

用匿名实现类表示的都可以用Lambda表达式来写。

#### 5. 缺点
每次使用都要写方法体，太繁琐了，在支持函数式编程的语言了，都是提前定义好方法，随用随调，方法体都省了。

解决方案：方法引用。


## Ⅱ. 内置Functional
Java内部已经将参数的类型穷举好了，提供了很多内置的Functional，直接用即可。

#### 1. Java内置四大核心Functional
![b-3-1](/img/java/javase/b-3-1.jpg)

- 消费型：提供一个参数，什么都不返回：参数被消耗了
    - `Consumer<T> void accept(T t)`
- 供给型：不提供参数，返回了一个值：供给了一个值
    - `Supplier<T>  T get()`
- 函数型：提供参数，参数类型是对象T，返回值类型是对象R。
    - `Function<T,R>  R apply(T t)`
- 断定型：提供一个参数，进行判断，返回boolean：进行一些参数的断定
    - `Predicate<T>  boolean test(T t)`

#### 2. 其他类型Functional
![b-3-2](/img/java/javase/b-3-2.jpg)




