import{_ as t,r as e,o as p,c,a,b as n,d as l,e as o}from"./app-ff4af090.js";const i={},r=o(`<h2 id="整合es" tabindex="-1"><a class="header-anchor" href="#整合es" aria-hidden="true">#</a> 整合ES</h2><h4 id="_1-依赖" tabindex="-1"><a class="header-anchor" href="#_1-依赖" aria-hidden="true">#</a> 1. 依赖</h4><p>这里选择官方推出的可以操作ES8.x的最新版客户端依赖。</p><p>同时操作ES的API经常需要使用JSON格式的数据，因此同时添加一个JSON工具依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>co.elastic.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>elasticsearch-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- version与ES服务端的version一致 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--工具：Java对象转JSON --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-es客户端的版本变迁" tabindex="-1"><a class="header-anchor" href="#_2-es客户端的版本变迁" aria-hidden="true">#</a> 2. ES客户端的版本变迁</h4>`,6),u=a("li",null,[n("RestLowLevelClient：最初的ES客户端，该客户端也被低版本的SpringBoot内置 "),a("ul",null,[a("li",null,"被spring-boot-starter-data-elasticsearch集成")])],-1),d=a("li",null,"RestHighLevelClient：之后RestLowLevelClient客户端被弃用，SpringBoot没有及时更新，因此当时需要手动添加ES的依赖。不过后来SpringBoot集成了该API。",-1),g=a("li",null,"ElasticSearchClient：在ES7.15版本之后RRestHighLevelClient客户端也被弃用了，推出了Elasticsearch Java API Client，该客户端可以操作ES8.x",-1),k={href:"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/",target:"_blank",rel:"noopener noreferrer"},h=a("p",null,"spring-boot-starter-data-elasticsearch的更新速度很慢，虽然简化了操作，但无法适配高版本的ES服务，因此推荐采用Elasticsearch Java API Client。该客户端需要手动导入，并指定版本，版本号与服务器开启的ES服务版本号一致。",-1),v=a("h4",{id:"_3-application-yml",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_3-application-yml","aria-hidden":"true"},"#"),n(" 3. application.yml")],-1),_=a("p",null,"注意：由于没有采用spring-boot-starter-data-elasticsearch 集成的ES客户端，因此在application.yml中进行的配置仅仅起到了变量的作用，SpringBoot是无法帮忙直接连接ES服务的。",-1);function m(S,b){const s=e("ExternalLinkIcon");return p(),c("div",null,[r,a("ul",null,[u,d,g,a("li",null,[n("高版本的SpringData已经内置了最新的客户端：详见"),a("a",k,[n("SpringData ES"),l(s)]),n("，直接使用SpringData也是一种选择。")])]),h,v,_])}const f=t(i,[["render",m],["__file","4-6.Elasticsearch.html.vue"]]);export{f as default};
